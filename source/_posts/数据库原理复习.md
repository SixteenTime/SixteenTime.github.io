---
title: 数据库系统原理基础知识点
date: 2021-12-21 10:01:12
tags: [学习,前端面试，数据库系统原理]
categories:
- 计算机基础复习
---

------

*本文来源于https://github.com/CyC2018/CS-Notes，是在阅读该资源时的笔记整理，但有大部分的内容和原文一致。并且因为本次复习是争对前端面试的准备，所以也会选择性复习，对于深刻的，计算类知识点只会粗略扫过*。

------

## 1.事务

事务是指满足<u>ACID特性</u>的一组操作。ACID特性分别包括以下四个特性：

**原子性**（Atomicity）：事务被视为不可分割最小单元。事务的操作要么全部提交成功，要么全部失败滚回。

**一致性**（Consistency）：数据库在事务执行的前后都保持一致性状态。在一致性状态下，所有事务对同一数据的读取结构是相同的。

**隔离性**（Islation）一个事务所做的修改在最终提交以前，对其他食物不可见。

**持久性**（Durability）一旦事务提交，则其所做的修改将会永远保存在数据库中。即使系统崩溃，事务执行结构也不会丢失。

## 2.并发一致性问题

在并发环境下，事务隔离性很难保证，因此会出现以下并发一致性问题。

**丢失修改**：一个事务的更新操作被另一个事务的更新操作替换，如下图所示：

![](/images/react/2021122103.png)

**读脏数据**：当前事务可以读到另外事务未提交的数据，如下图所示：

![](/images/react/2021122104.png)

**不可重复读**：在一个事务内多次读取同一数据，期间该数据被另一事务进行了修改，会导致重复读统一数据的结果不一致，如下图所示：

![](/images/react/2021122105.png)



## 3.封锁

**封锁粒度**：封锁粒度越细，锁定数据越少，发生锁争用的可能越小，系统的并发程度就越高，但是也会消耗更多的资源，所以在选择封锁粒度时需要有所权衡。

**封锁类型**：读写锁和意向锁。

**封锁协议**：包括一、二、三级封锁协议和两段锁协议。

## 4.关系数据库设计理论

### 4.1 函数依赖

记A - >B表示A决定B，也可以说B依赖于A。

**键码**：若（A1,A2,...An）是关系的一个或多个属性集合，该集合函数决定了关系的其他属性并且是最小的，那么该集合就是键码。

**部份依赖**：若A->B，但A的真子集A'->B成立，则A->B是部份依赖。

**完全依赖**：若A->B，且无A的真子集A'->B成立，则A->B是完全依赖。

**依赖传递**：A->B,B->C，则A->C。

### 4.2 范式

高级别范式的依赖于低级别的范式，1NF（第一范式） 是最低级别的范式。

**INF**：属性不可分。

**2NF**：每个非主属性完全依赖于键码。

**3NF**：非主属性之间必须互相独立，不存在依赖关系。

### 4.3 异常

不符合范式的关系，会出现很多异常，主要有以下四种：

**冗余数据**：比如一个记录多次出现在表内。

**修改异常**：修改了一个记录中的信息，但另一个记录中相同的信息却没有被修改。

**删除异常**：删除一个信息，那么也会丢失其他信息。

**插入异常**：因为关联问题出现无法插入记录错误。

## 5.ER图

实体关系图（Entity-Relationship），有三个组成部分：<u>实体、属性、联系</u>。

实体之间存在三种关系，分别是<u>一对一、一对多和多对多关系</u>。