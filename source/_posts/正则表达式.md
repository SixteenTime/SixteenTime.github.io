---
title: 正则表达式
date: 2021-12-21 16:11:05
tags: [学习,前端面试，正则表达式]
categories:
- 计算机基础复习
---

------

*本文来源于https://github.com/CyC2018/CS-Notes，是在阅读该资源时的笔记整理，但有大部分的内容和原文一致。并且因为本次复习是争对前端面试的准备，所以也会选择性复习，对于深刻的，计算类知识点只会粗略扫过*。

------

## 1.概述

正则表达式用于文本内容的查找和替换，本身不是一种语言或软件。

## 2.匹配单个字符

`.`用来匹配单个任意字符，是元字符。如果想要匹配字符`.`，则要在前面加`\`，即`\.`，在`[]`里的`.`不是元字符。

## 3.匹配一组字符

`[]`定义一个 字符集合，`0-9`、`a-z`在`[]`中表示一个字符区间，用ASCII码确定。`^`在`[]`中是取非操作。 `abc[^0-9]`表示以'abc'开头，并且第四个字符不为数字的字符串。

## 4.使用元字符

`[\b]`是删除一个字符的意思；`\f`匹配换页符，`\n`匹配换行符，`\r`匹配回车符，`\t`匹配制表符，`\v`匹配垂直制表符。

`\d`等价于`[0-9]`，`\D`等价于`[^0-9]`，`\w`等价于`[a-zA-Z0-9_]`大小写字母、下划线和数字。`\W`等价于`[^a-zA-Z0-9_]`。`\s`表示任何一个空白字符，等价于`[\f\n\r\t\v]`，`\S`表示对`\s`取非，等价于`[^\f\n\r\t\v]`。

`\x`匹配十六进制字符,`\0`匹配八进制字符，比如`\xA`对应值为10的ASCII字符，即`\n`。

## 5.重复匹配

`+`匹配1个或多个字符，`*`匹配0个或多个字符，`?`匹配0个或1个字符。

`{n}`匹配n个字符，`{m,n}`匹配m~n个字符，`{m,}`匹配至少m个字符。

`[\w]+`表示匹配字母数字或下划线很多次，a+c表示1个或多个连续的a加上一个c。

![](/images/react/2021122114.png)

![](/images/react/2021122115.png)

`*`和`+`都是贪婪的，会匹配尽可能多的内容。在后面加?可以转换为懒惰型元字符。

`a.+c`的匹配结果可以是`abcabcabc`，即明明前三个字符已经满足匹配结果，但因为`+`是贪婪的所以会匹配尽可能多的字符。

## 6.位置匹配

`\b`可以匹配一个单词的边界，边界是指位于`\w`和`\W`之间的位置，`\B`匹配一个不是单词边界的位置。这两种匹配的都是位置，而不是字符串，比如`\babc\b`匹配的结果是3个字符串。

`^`在字符集合外用作匹配整个字符串的开头，`$`匹配整个字符串的结尾。

`^\s*\/\/.*$`的意思是匹配一个开头是0到多个空白字符加上`//`结尾是1个到多个任意字符的一行字符串，如下图所示：

![](/images/react/2021122118.png)

## 7.子表达式

`(ab){2,}`表示至少两个`ab`组合元素的字符。可以匹配abab或更多有ab的字符串。

![](/images/react/2021122113.png)

`|`是或元字符，它把左边和右边所有的部分都看成单独的两个部分，两个部分只要有一个匹配就行。比如`(19|20)\d{2}`的意思是匹配’19‘或'20'开头并且后面有两个任意数字的字符串，如下图所示：

![](/images/react/2021122116.png)

## 8.回溯引用

回溯引用使用 **\n** 来引用某个子表达式，其中 n 代表的是子表达式的序号，从 1 开始。它和第n个子表达式匹配的内容一致，比如子表达式匹配到 abc，那么回溯引用部分也需要匹配 abc 。

`<(h[1-6])>(\w*?)<\/\1\2>`里使用了两个回溯引用，分别引用了第一个表达式和第二个表达式，如下图所示：

![](/images/react/2021122117.png)

## 9.替换

正则表达式也可以应用在文本替换上，这需要两个正则表达式，第一个用来查找，第二个用来替换。例如修改电话号码`313-555-1234`的格式为`(313) 555-1234`，则需要1.查找电话，正则表达式为`(\d{3})(-)(\d{3})(-)(\d{4})`，利用子表达式将电话号码的格式划分。2.替换，正则表达式为`($1) $3-$5`，表示为在第一个子表达式查找的结果加上 () ，然后加一个空格，在第三个和第五个字表达式查找的结果中间加上 - 进行分隔。

`\l`表示把下一个字符转为小写，`\u`表示把下一个字符转为大写，`\L`表示把`\L`和`\E`之间的字符全部转为小写，`\U`表示把`\U`和`\E`之间的字符全部转为大写，`\E`表示结束`\L`或`\U`。

## 10.前后查找

前后查找规定了匹配的内容首尾应该匹配的内容，但是又不包含首尾匹配的内容。

向前查找使用 `?=` 定义，它规定了尾部匹配的内容，这个匹配的内容在` ?= `之后定义。所谓向前查找，就是规定了一个匹配的内容，然后以这个内容为尾部向前面查找需要匹配的内容。向后匹配用 `?<= `定义（注: JavaScript 不支持向后匹配，Java 对其支持也不完善）。

如`\w+(?=@)`表示查找@字符前面的部分，如图所示：

![](/images/react/2021122119.png)

## 11.嵌入条件

条件为某个子表达式是否匹配，如果匹配则需要继续匹配条件表达式后面的内容。

比如`(\()?abc(?(1)\))`的意思是，先看第一个表达式即第一个`()`里的内容为`\(`，表达式后面有一个`?`，目前为止的意思是匹配0或1个`(`，然后匹配字符串`abc`，然后遇到第二个子表达式，这个表达式为条件表达式，`?(1)`为条件，表示第一个表达式内容若成立，则需要执行`)`匹配，如下图所示：

![](/images/react/2021122120.png)

`?(?=-) `为前向查找条件，只有在以 - 为前向查找的结尾能匹配` \d{5} `，才继续匹配 `-\d{4}` ，如下图所示：

![](/images/react/2021122121.png)