---
title: 操作系统原理基础知识点
date: 2021-12-21 08:35:25
tags: [学习,前端面试，操作系统原理]
categories:
- 计算机基础复习
---

------

*本文来源于https://github.com/CyC2018/CS-Notes，是在阅读该资源时的笔记整理，但有大部分的内容和原文一致。并且因为本次复习是争对前端面试的准备，所以也会选择性复习，对于深刻的，计算类知识点只会粗略扫过*。

------



## 1.基本特质

操作系统的基本特征为并发、共享、虚拟、异步。

**并发**：同一时间段运行多个程序，区分<u>并行</u>，并行指同一时刻运行多个指令，需要硬件支持。

**共享**：指系统的资源可以被多个并发进程同时共享。共享方式分为<u>互斥共享</u>（同一时刻只允许一个进程访问，其共享资源被称为临界资源，比如打印机）和<u>同时共享</u>。

**虚拟**：把一个物理实体转换为多个逻辑实体，虚拟技术有<u>时分复用技术</u>（比如多个进程并发执行）和<u>空分复用技术</u>（比如虚拟内存）。

**异步**：进程不是一次性执行完毕。

## 2.基本功能

包括<u>进程管理</u>、<u>内存管理</u>、<u>文件管理</u>和<u>设备管理</u>。

## 3.系统调用

如果一个进程在用户态需要使用内核态功能，则进行系统调度，Linux的系统调度有<u>进程控制、进程通信、文件操作、设备操作、信息维护、安全</u>。

## 4.大内核和微内核

**大内核**：将操作系统功能作为一个紧密结合的整体放在内核中，各模块共享信息，具有高性能。

**微内核**：将部分操作系统功能移除内核，只有微内核这部分模块处在内核态，可降低系统的复杂性。

## 5.中断分类

**外中断**：由CPU执行指令以外的事件引起的中断，如I/O完成中断等。

**异常**：由CPU执行指令内部事件引起的中断，如地址越界等。

**陷入**：在用户程序中使用系统调用引起。

## 6.进程管理

### 6.1 进程和线程

**进程**：资源分配的基本单位，PCB（进程控制块）描述进程的基本信息和运行状态。

**线程**：独立调度的基本单位，一个进程有多个线程，它们共享进程资源。

**进程和线程的区别（面试题）：**

进程是<u>资源分配</u>的基本单位，线程不拥有资源，但是线程可以访问所属进程的资源。

进程<u>开销</u>大，在创建、撤销和切换进程时，系统都要为之分配或回收资源，而线程切换只需要保存和设置少量寄存器内容，开销小。

进程<u>通信</u>需要借助IPC，线程间通过直接读写同一进程数据可进行通信。

### 6.2 进程状态转换

进程的状态转换如图所示：

![](/images/react/2021122006.png)

其中，<u>处于就绪状态和运行状态的进程可以相互转换</u>，其他状态进程只能单向转换。处于阻塞状态的进程是缺少资源（不包括时间资源）的进程。

### 6.3 批处理系统

该系统没有太多用户操作，调度算法包括<u>FCFS</u>（先来先服务，有利于长作业）、<u>SJF</u>（短作业优先，不利于长作业）、<u>SRTN</u>（最短剩余时间优先）。该系统的调度算法目标是保证吞吐量和周转时间（从提交到终止的时间）。

### 6.4 交互式系统

该系统有大量用户交互操作，调度算法包括<u>时间片轮转</u>、<u>优先级调度</u>、<u>多级反馈列表</u>。该系统的调度算法目标是快速进行响应。

### 6.5 实时系统

实时系统要求一个请求在一个确定时间内得到响应。分为<u>硬实时和软实时</u>，前者必须满足绝对的截止时间，后者可以容忍一定的超时。

### 6.6 进程同步

**临界区**：对临界资源进行访问的那段代码

**同步**：多个进程因为合作产生的直接制约关系，使得进程有一定的先后执行关系

**互斥**：多个进程在同一时刻只有一个进程能进入临界区。

**信号量**：是一个整型变量，可以对其执行P/V操作，即-1/+1操作。

## 7.内存管理

**虚拟内存**：其目的是为了让物理内存扩充成更大的<u>逻辑内存</u>，让程序获得更多可用内存。

**存储方式**：<u>分页存储</u>和<u>分段存储</u>。分页存储更加透明，分段存储需要程序员显示划分每个段。分页存储的地址空间是一维的，分段是二维的。页的大小不可改变，段的大小可以动态改变。分页主要用于实现虚拟内存，从而获得更大的地址空间，分段主要是为了使程序和数据可以被划分为逻辑独立的地址空间且有助于共享和保护。

## 8.设备管理

### 8.1 磁盘结构

如下所示是磁盘结构图：

![](/images/react/2021122101.png)

**盘面**：一个磁盘有多个盘面；

**磁道**：盘面上的圆形带状区域，一个盘面可以有多个磁道；

**扇区**：磁道上的一个弧段，一个磁道可以有多个扇区，<u>它是最小的物理储存单位</u>，目前主要有 512 bytes 与 4 K 两种大小；

**磁头**：与盘面非常接近，能够将盘面上的磁场转换为电信号（读），或者将电信号转换为盘面的磁场（写）；

**制动手臂**：用于在磁道之间移动磁头；

**主轴**：使整个盘面转动。

## 9.连接

### 9.1 编译系统。

一个.c文件被解析执行的具体过程图如下所示：

![](/images/react/2021122102.png)

`.c`文件先后要经过预处理阶段转为`.i`文件，再经过编译阶段转为`.s`程序，经过汇编器转为可重定位的`.o`程序，最后经过连接器转为可执行的目标程序。

### 9.2 静态链接和动态链接

**静态链接**：以一组可重定位文件为输入，通过完成<u>符号解析</u>和<u>重定位</u>生产一个完全可执行的输出文件。

**动态连接**：为了解决静态库存在的更新时需要重新链接以及如`printf`这种标准函数库，如果每个程序都有代码会极大浪费资源的问题而出现了<u>共享库</u>。

## 10.死锁

死锁是指两个及以上进程执行过程中，由于竞争资源或彼此通信造成的阻塞现象，若无外力作用无法继续推进下去，而造成永久等待的情况。

### 10.1 产生的原因条件

**互斥**：资源以分配给其他进程，而某资源若需要使用资源只能等待。

**请求和保持**：进程已经保持一个资源，但又提出新的资源请求，而此资源被其他进程占用，会造成一直占用已有资源并且一直等待的情况。

**不可抢占**：已经分配给一个进程的资源不能强制性抢占，只能等待占有资源的进程显式释放。

**环路等待**：两个及以上进程组成一条环路，该环路的每个进程都在等待下一个进程释放占有资源。

### 10.2 处理方法

**鸵鸟策略**：假装什么事都没发生，忽略死锁问题。

**死锁检测与死锁恢复**：不试图阻止死锁，而是当检测到死锁发生时，采取措施进行恢复。

**死锁预防**：在程序运行前预防发生死锁。

**死锁避免**：在程序运行时避免发生死锁。

